window._bd_share_main.F.module("view/share_view",function(t,e,n){var r=t("base/tangram").T,a=t("base/class").Class,o=t("conf/const"),i=t("view/view_base"),c={btn:"bdsharebuttonbox",count:"bds_count"};e.View=a.create(function(e){var a=this,i=e.bdStyle||0,s=-1<"|16|24|32|".indexOf("|"+e.bdSize+"|")?e.bdSize:16;a._buttonType=0,a.render=function(t){var n;n=e.tag||"",r("."+c.btn).each(function(t,e){n&&r(e).attr(o.CONFIG_TAG_ATTR)!=n||(a._entities.push(e),r(e).removeClass(function(t,e){var n=e.match(/bdshare-button-style\d*-\d*/g);if(n)return n.join(" ")}),r(e).addClass("bdshare-button-style"+i+"-"+s))}),a._entities,r("."+c.btn).each(function(t,e){r(e).children("a,span").each(function(t,a){var i=r(a).attr(o.CMD_ATTR);i&&window._bd_share_main.F.use("component/partners",function(t){var e=t.partners,n=e[i]?"分享到"+e[i].name:"";!r(a).attr("title")&&n&&r(a).attr("title",n)})})})},a._init=function(){(function(){if(e.bdCustomStyle){var t=document.createElement("link");t.href=e.bdCustomStyle,t.rel="styleSheet",t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t)}else window._bd_share_main.F.use("share_style"+i+"_"+s+".css")})(),0<r(a._entities).find("."+c.count).length&&a.fire("getsharecount")},a.setNumber=function(t,e){r(a._entities).find("."+c.count).html(e).attr("title","累计分享"+t+"次")}},i.ViewBase)});